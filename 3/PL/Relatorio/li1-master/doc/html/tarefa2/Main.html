<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Main</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Main.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Main</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Um m&#243;dulo contendo defini&#231;&#245;es Haskell para a execu&#231;&#227;o de um comando num jogo de Bomberman.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:move">move</a> :: [String] -&gt; Int -&gt; Char -&gt; [String]</li><li class="src short"><a href="#v:main">main</a> :: IO ()</li><li class="src short"><a href="#v:fazJogada">fazJogada</a> :: [String] -&gt; Int -&gt; Char -&gt; [String]</li><li class="src short"><a href="#v:verificaJogador">verificaJogador</a> :: [String] -&gt; Int -&gt; Bool</li><li class="src short"><a href="#v:checkRep">checkRep</a> :: [String] -&gt; [String]</li><li class="src short"><a href="#v:repPU">repPU</a> :: (Char, Char) -&gt; [String] -&gt; Bool</li><li class="src short"><a href="#v:repB">repB</a> :: (Char, Char) -&gt; [String] -&gt; Bool</li><li class="src short"><a href="#v:insereJogada">insereJogada</a> :: [String] -&gt; Int -&gt; String -&gt; [String]</li><li class="src short"><a href="#v:insereBomba">insereBomba</a> :: [String] -&gt; String -&gt; [String]</li><li class="src short"><a href="#v:compBomba">compBomba</a> :: (Char, Char) -&gt; (Char, Char) -&gt; Bool</li><li class="src short"><a href="#v:insereUDLR">insereUDLR</a> :: [String] -&gt; Int -&gt; String -&gt; [String]</li><li class="src short"><a href="#v:gereJogada">gereJogada</a> :: [String] -&gt; Int -&gt; Char -&gt; (Int, Int, String) -&gt; String</li><li class="src short"><a href="#v:moveUp">moveUp</a> :: [String] -&gt; Int -&gt; (Int, Int, String) -&gt; Int -&gt; Int -&gt; String</li><li class="src short"><a href="#v:moveDown">moveDown</a> :: [String] -&gt; Int -&gt; (Int, Int, String) -&gt; Int -&gt; Int -&gt; String</li><li class="src short"><a href="#v:moveLeft">moveLeft</a> :: [String] -&gt; Int -&gt; (Int, Int, String) -&gt; Int -&gt; Int -&gt; String</li><li class="src short"><a href="#v:moveRight">moveRight</a> :: [String] -&gt; Int -&gt; (Int, Int, String) -&gt; Int -&gt; Int -&gt; String</li><li class="src short"><a href="#v:atualiza">atualiza</a> :: Int -&gt; (Int, Int, String) -&gt; Char -&gt; String</li><li class="src short"><a href="#v:moveBomba">moveBomba</a> :: [String] -&gt; Int -&gt; (Int, Int) -&gt; String</li><li class="src short"><a href="#v:checkBomba">checkBomba</a> :: [String] -&gt; Int -&gt; Bool</li><li class="src short"><a href="#v:addLB">addLB</a> :: (Int, Int) -&gt; Int -&gt; Int -&gt; Int -&gt; String</li><li class="src short"><a href="#v:checkPU">checkPU</a> :: [String] -&gt; (Int, Int) -&gt; Char</li><li class="src short"><a href="#v:rDados">rDados</a> :: Char -&gt; String -&gt; (Int, Int) -&gt; Int -&gt; Char</li><li class="src short"><a href="#v:obtemVals">obtemVals</a> :: [String] -&gt; Int -&gt; Int -&gt; Int -&gt; String -&gt; (Int, Int, String)</li><li class="src short"><a href="#v:obtemDX">obtemDX</a> :: String -&gt; Int -&gt; Int</li><li class="src short"><a href="#v:obtemDY">obtemDY</a> :: String -&gt; Int -&gt; Int</li><li class="src short"><a href="#v:obtemDS">obtemDS</a> :: String -&gt; String -&gt; Int -&gt; String</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:move" class="def">move</a> :: [String] -&gt; Int -&gt; Char -&gt; [String]</p><div class="doc"><p>A fun&#231;&#227;o move, ap&#243;s verificar que os comandos fornecidos s&#227;o v&#225;lidos, executa a fun&#231;&#227;o fazJogada, que
ir&#225; fazer as modifica&#231;&#245;es necess&#225;rios ao tabuleiro de jogo.
</p></div></div><div class="top"><p class="src"><a name="v:main" class="def">main</a> :: IO ()</p><div class="doc"><p>Fun&#231;&#227;o main fornecida no enunciado, que chamar&#225; a fun&#231;&#227;o move para realizar uma ac&#231;&#227;o num jogo
de Bomberman.
</p></div></div><div class="top"><p class="src"><a name="v:fazJogada" class="def">fazJogada</a> :: [String] -&gt; Int -&gt; Char -&gt; [String]</p><div class="doc"><p>A fun&#231;&#227;o fazJogada &#233; chamada pela move, com o tabuleiro de jogo, o n&#250;mero do jogador a realizar uma 
ac&#231;&#227;o e o tipo de ac&#231;&#227;o que o jogador pretende realizar.
A fun&#231;&#227;o utiliza o verificaJogador para determinar se a jogada se pode realizar, ap&#243;s a qual ir&#225; usar
a checkRep e a insereJogada para produzir o output necess&#225;rio.
</p></div></div><div class="top"><p class="src"><a name="v:verificaJogador" class="def">verificaJogador</a> :: [String] -&gt; Int -&gt; Bool</p><div class="doc"><p>A verificaJogador &#233; usada para verificar se o jogador indicado na chamada da fun&#231;&#227;o main/move existe
no tabuleiro jogo. Nesse caso, devolver&#225; True; se o jogador n&#227;o estiver presente devolver&#225; False.
</p></div></div><div class="top"><p class="src"><a name="v:checkRep" class="def">checkRep</a> :: [String] -&gt; [String]</p><div class="doc"><p>A fun&#231;&#227;o checkRep &#233; chamada pela fazJogada para verificar o mapa gerado pelo insereJogada para verificar
se numa coordenada existem v&#225;rias coisas que n&#227;o podem coexistir. Por exemplo, se um jogador se encontrar
nas coordenadas (3,3) e um power up Bombas tamb&#233;m existir nessas coordenadas, a checkRep removeria a linha 
<a href="+ 3 3.html">+ 3 3</a>, que &#233; correspondente ao power up.
</p></div></div><div class="top"><p class="src"><a name="v:repPU" class="def">repPU</a> :: (Char, Char) -&gt; [String] -&gt; Bool</p><div class="doc"><p>A repPU &#233; chamada como auxiliar na checkRep para remover power ups presentes nas mesmas coordenadas 
que jogadores.
</p></div></div><div class="top"><p class="src"><a name="v:repB" class="def">repB</a> :: (Char, Char) -&gt; [String] -&gt; Bool</p><div class="doc"><p>A repB &#233; usada como auxiliar na checkRep para remover bombas presentes nas mesmas coordenadas.
</p></div></div><div class="top"><p class="src"><a name="v:insereJogada" class="def">insereJogada</a> :: [String] -&gt; Int -&gt; String -&gt; [String]</p><div class="doc"><p>A fun&#231;&#227;o insereJogada recebe a jogada produzida pela fun&#231;&#227;o gereJogada e decide onde ser&#225; inserida
a jogado dependendo do tipo de jogada que &#233;.
</p></div></div><div class="top"><p class="src"><a name="v:insereBomba" class="def">insereBomba</a> :: [String] -&gt; String -&gt; [String]</p><div class="doc"><p>A insereBomba &#233; chamada pela insereJogada caso a jogada recebida come&#231;e com <code>*</code> (logo, seja uma bomba)
e decide em que posi&#231;&#227;o do tabuleiro ser&#225; posta a jogada (depois do mapa, depois dos power ups, mas antes
dos jogadores) decidindo tamb&#233;m em que posi&#231;&#227;o ser&#225; posta comparativamente com as outras bombas.
</p></div></div><div class="top"><p class="src"><a name="v:compBomba" class="def">compBomba</a> :: (Char, Char) -&gt; (Char, Char) -&gt; Bool</p><div class="doc"><p>A compBomba &#233; chamada pela insereBomba para comparar duas descri&#231;&#245;es do tipo de bomba: uma que ser&#225;
inserida no tabuleiro e outra j&#225; la presente, devolvendo True caso a que se pretende inserir estiver numa
posi&#231;&#227;o anterior &#224; j&#225; posta e False caso contr&#225;rio.
</p></div></div><div class="top"><p class="src"><a name="v:insereUDLR" class="def">insereUDLR</a> :: [String] -&gt; Int -&gt; String -&gt; [String]</p><div class="doc"><p>A insereUDLR &#233; a alternativa &#224; insereBomba, ou seja &#233; realizada caso a jogada realizada n&#227;o seja a
coloca&#231;&#227;o de uma bomba. Esta fun&#231;&#227;o coloca a linha da jogada no s&#237;tio do mapa onde esteve a ultima jogada
desse mesmo jogador.
</p></div></div><div class="top"><p class="src"><a name="v:gereJogada" class="def">gereJogada</a> :: [String] -&gt; Int -&gt; Char -&gt; (Int, Int, String) -&gt; String</p><div class="doc"><p>A gereJogada &#233; invocada pela fun&#231;&#227;o fazJogada para produzir a jogada. Para tal utiliza cinco fun&#231;&#245;es 
para os diferentes tipos de jogadas. moveUp para <code>U</code>, moveDown para <code>D</code>, moveLeft para <code>L</code>, moveRight 
para <code>R</code> e moveBomba para <code>B</code>.
</p></div></div><div class="top"><p class="src"><a name="v:moveUp" class="def">moveUp</a> :: [String] -&gt; Int -&gt; (Int, Int, String) -&gt; Int -&gt; Int -&gt; String</p><div class="doc"><p>A moveUp &#233; invocada pela gereJogada caso o tipo de jogada fornecida seja <code>U</code>. Ir&#225; mudar as coordenadas
do jogador, caso poss&#237;vel, para que se encontre na linha em cima.
</p></div></div><div class="top"><p class="src"><a name="v:moveDown" class="def">moveDown</a> :: [String] -&gt; Int -&gt; (Int, Int, String) -&gt; Int -&gt; Int -&gt; String</p><div class="doc"><p>A moveDown &#233; invocada pela gereJogada caso o tipo de jogada fornecida seja <code>D</code>. Ir&#225; mudar as coordenadas
do jogador, caso poss&#237;vel, para que se encontre na linha em baixo. 
</p></div></div><div class="top"><p class="src"><a name="v:moveLeft" class="def">moveLeft</a> :: [String] -&gt; Int -&gt; (Int, Int, String) -&gt; Int -&gt; Int -&gt; String</p><div class="doc"><p>A moveLeft &#233; invocada pela gereJogada caso o tipo de jogada fornecida seja <code>L</code>. Ir&#225; mudar as coordenadas
do jogador, caso poss&#237;vel, para que se encontre na mesma linha, na posi&#231;&#227;o anterior.
</p></div></div><div class="top"><p class="src"><a name="v:moveRight" class="def">moveRight</a> :: [String] -&gt; Int -&gt; (Int, Int, String) -&gt; Int -&gt; Int -&gt; String</p><div class="doc"><p>A moveRight &#233; invocada pela gereJogada caso o tipo de jogada fornecida seja <code>R</code>. Ir&#225; mudar as coordenadas
do jogador, caso poss&#237;vel, para que se encontre na linha em cima, na posi&#231;&#227;o seguinte
</p></div></div><div class="top"><p class="src"><a name="v:atualiza" class="def">atualiza</a> :: Int -&gt; (Int, Int, String) -&gt; Char -&gt; String</p><div class="doc"><p>A fun&#231;&#227;o atualiza &#233; invocada pelas fun&#231;&#245;es move direcionais e utiliza os dados gerados por essas 
fun&#231;&#245;es para criar a linha que ser&#225; adicionada ao mapa.
</p></div></div><div class="top"><p class="src"><a name="v:moveBomba" class="def">moveBomba</a> :: [String] -&gt; Int -&gt; (Int, Int) -&gt; String</p><div class="doc"><p>A fun&#231;&#227;o moveBomba &#233; chamada pela gereJogada para gerar uma linha de jogo que contenhana a descri&#231;&#227;o
de uma bomba. Para verificar se a jogada &#233; v&#225;lida recorre &#224; checkBomba.
</p></div></div><div class="top"><p class="src"><a name="v:checkBomba" class="def">checkBomba</a> :: [String] -&gt; Int -&gt; Bool</p><div class="doc"><p>A checkBomba &#233; utilizada na moveBomba e serve para verificar se o jogador que pretende colocar a bomba
j&#225; colocou outra bomba no mapa. Caso tenha, devolver&#225; True.
</p></div></div><div class="top"><p class="src"><a name="v:addLB" class="def">addLB</a> :: (Int, Int) -&gt; Int -&gt; Int -&gt; Int -&gt; String</p><div class="doc"><p>A fun&#231;&#227;o addLB &#233; chamada pela moveBomba caso n&#227;o exista j&#225; uma bomba colocada no mapa pelo mesmo jogador
e criar&#225; a descri&#231;&#227;o da bomba que se pretende juntar ao mapa. Junta as coordenadas, o n&#250;mero do jogador,
o raio e o tempo numa string.
</p></div></div><div class="top"><p class="src"><a name="v:checkPU" class="def">checkPU</a> :: [String] -&gt; (Int, Int) -&gt; Char</p><div class="doc"><p>A checkPU &#233; utilizada pelas fun&#231;&#245;es move direcionais para verificar qual power up &#233; que o jogador
est&#225; a apanhar.
</p></div></div><div class="top"><p class="src"><a name="v:rDados" class="def">rDados</a> :: Char -&gt; String -&gt; (Int, Int) -&gt; Int -&gt; Char</p><div class="doc"><p>A rDados &#233; utilizada pela checkPU para retirar o power up que existe nas coordenadas onde o jogador se
encontra. 
</p></div></div><div class="top"><p class="src"><a name="v:obtemVals" class="def">obtemVals</a> :: [String] -&gt; Int -&gt; Int -&gt; Int -&gt; String -&gt; (Int, Int, String)</p><div class="doc"><p>A obtemVals &#233; utilizada pela fazJogada para retirar as coordenadas necess&#225;rias da descri&#231;&#227;o do jogador
que se encontra a jogar, assim como a lista de power ups que esse jogador j&#225; apanhou em fases anteriores 
do jogo.
</p></div></div><div class="top"><p class="src"><a name="v:obtemDX" class="def">obtemDX</a> :: String -&gt; Int -&gt; Int</p><div class="doc"><p>A fun&#231;&#227;o obtemDX &#233; chamada na obtemVals para retirar a coordenada correspondente &#224; posi&#231;&#227;o horizontal 
do jogador que se encontra a jogar.
</p></div></div><div class="top"><p class="src"><a name="v:obtemDY" class="def">obtemDY</a> :: String -&gt; Int -&gt; Int</p><div class="doc"><p>A fun&#231;&#227;o obtemDY &#233; chamada na obtemVals para retirar a coordenada correspondente &#224; posi&#231;&#227;o vertical
do jogador que se encontra a jogar.
</p></div></div><div class="top"><p class="src"><a name="v:obtemDS" class="def">obtemDS</a> :: String -&gt; String -&gt; Int -&gt; String</p><div class="doc"><p>A fun&#231;&#227;o obtemDS &#233; chamada na obtemVals para retirar os power ups que o jogador que se encontra a
jogar j&#225; apanhou em rondas anteriores.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>